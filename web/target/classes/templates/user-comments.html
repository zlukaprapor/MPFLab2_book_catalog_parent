<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="|Коментарі користувача ${username}|">Коментарі користувача</title>
    <link rel="stylesheet" th:href="@{/css/style.css}">
</head>
<body>
<div th:replace="~{fragments/header :: header}"></div>

<div class="container">
    <a th:href="@{/books}" class="back-link">← Назад до каталогу</a>

    <div class="book-detail">
        <h1 th:text="|💬 Коментарі користувача: ${username}|">Коментарі користувача</h1>
        <div class="book-meta">
            <span th:text="|👤 ID користувача: ${user.id}|">ID</span>
            <span th:text="|📝 Всього коментарів: ${comments.size()}|">Коментарі</span>
        </div>
    </div>

    <div class="comments-section">
        <div th:if="${comments.isEmpty()}" class="no-comments">
            <p>😕 Користувач ще не залишив жодного коментаря</p>
        </div>

        <div th:unless="${comments.isEmpty()}">
            <div th:each="comment : ${comments}" class="comment">
                <div class="comment-header">
                    <span class="comment-date"
                          th:text="${#temporals.format(comment.createdAt, 'dd.MM.yyyy HH:mm')}">
                        Дата
                    </span>
                </div>
                <p th:text="${comment.text}">Текст коментаря</p>
                <p style="margin-top: 10px;">
                    📚 Книга:
                    <a th:href="@{/books/{id}(id=${comment.bookId})}"
                       style="color: #667eea; text-decoration: none; font-weight: 600;">
                        Book #<span th:text="${comment.bookId}">ID</span>
                    </a>
                </p>
            </div>
        </div>
    </div>
</div>

<div th:replace="~{fragments/footer :: footer}"></div>
</body>
</html>